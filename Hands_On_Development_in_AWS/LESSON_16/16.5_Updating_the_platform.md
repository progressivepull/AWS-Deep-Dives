# 16.5 Updating the platform 
 
 - **Why Platform Updates Matter**
  - Elastic Beanstalk supports **minor version updates in place**
  - **Major version upgrades** (e.g., PHP 7 → PHP 8) require:
    - Creating a new environment
    - Swapping environment URLs

- **Current State**
  - Existing environment **dbtest** running **PHP 8.1.11**

- **Creating a New Environment**
  - Ran `eb create dbtest-old-php --platform php-8.0`
  - New environment runs **PHP 8.0.20**
  - No database specified, so creation was faster

- **Comparing Environments**
  - Two environments now exist:
    - **dbtest** → PHP 8.1.11
    - **dbtest-old-php** → PHP 8.0.20
  - Each environment has its own unique URL

- **Swapping Environment URLs**
  - Used **Actions → Swap Environment URLs** in the Elastic Beanstalk console
  - Swapped `dbtest` with `dbtest-old-php`
  - Result:
    - `dbtest` URL now points to **PHP 8.0.20**
    - `dbtest-old-php` URL points to **PHP 8.1.11**

- **DNS Propagation Behavior**
  - Swap took ~5 minutes due to DNS caching
  - Required waiting for cached DNS entries to expire

- **Rollback Capability**
  - Swap can be reversed quickly if issues occur
  - Enables:
    - Testing new platform versions
    - Fast rollback to the previous version
    - Zero DNS reconfiguration by the user

- **Major Version Migration Strategy**
  - Create new environment on target platform version
  - Validate application behavior
  - Swap environment URLs
  - Decommission old environment if successful

- **Cleanup and Cost Management**
  - Deleted applications via **Actions → Delete Application**
  - CloudFormation removed:
    - EC2 instances
    - Security groups
    - RDS database
    - Other related resources
  - Prevents unnecessary AWS charges

- **Key Takeaway**
  - **Swap Environment URLs** enables safe, reversible platform upgrades
  - Ideal for major version migrations with minimal downtime

 
 ## [Context](./../context.md)