# 4.5 Using the AWS CLI 
 
# âš™ï¸ AWS CLI Installation & Configuration Summary

**Goal:** 

Install and configure the AWS Command Line Interface (CLI) across different platforms, using programmatic credentials.

# ğŸ§­ Access Prerequisite: Programmatic User

* Requires **Access Key ID** and **Secret Access Key**

* Created via IAM â†’ Users â†’ Security Credentials â†’ Create Access Key â¡ï¸ Will be covered in depth in the IAM section

# ğŸ’» Installation Methods by Platform

| Platform            | Method                                | Notes                                           |
|---------------------|----------------------------------------|-------------------------------------------------|
| Linux               | `pip install awscli` or `pip3 install awscli` | May need to update `$PATH` to include `.local/bin` |
| Amazon Linux (EC2)  | Pre-installed                          | Only configuration needed                       |
| Windows             | MSI Installer                          | Adds CLI to system path for use in Command Prompt |
| Mac                 | GUI Installer or `pip install awscli`  | Executed via Terminal                           |


# ğŸ› ï¸ Configuration Steps
Run the command:

``` bash
aws configure
```

Provide:

1. **Access Key ID**

2. **Secret Access Key**

3. **Default Region** (e.g., us-east-2)

4. **Default Output Format** (json, text, or table)

Creates:

~/.aws/credentials

~/.aws/config      

 â¡ï¸ INI-style files storing your configuration


ğŸ‘¥ Multiple Accounts or Users
Use **named profiles:**

``` bash
aws configure --profile devuser

```
Switch between profiles using:

``` bash
aws ec2 describe-instances --profile devuser
```

# ğŸ§ª CLI Validation & Usage

* Run: **aws ec2 describe-instances** to test setup

* Use contextual help:

``` bash
aws help
aws ec2 help
aws ec2 describe-instances help
```
# ğŸ–¥ï¸ CLI on EC2 Instance

* Installed via **pip3 install awscli**

* Same configuration process as Windows/Mac

* Update **$PATH** if needed to access **aws** command

# ğŸ” Cross-Platform Consistency

* CLI behaves identically across Windows, Linux, and Mac
  
* Python-based â†’ consistent experience

## âš™ï¸ AWS CLI Configuration Guide

To configure the AWS Command Line Interface (CLI), run the following command in your terminal:

```bash
$ aws configure
AWS Access Key ID [None]: AKIA...IWHF
AWS Secret Access Key [None]: wJa.........rXU
Default region name [None]: us-west-2
Default output format [None]: json
```
Where do we get the **Assess Key** and **Sercret Access Key** ?

    - IAM

## ğŸ§ Installing AWS CLI on Linux

To install the AWS Command Line Interface (CLI) using the bundled installer, follow these steps in your terminal:

### ğŸ“¥ 1. Download the installer bundle
```bash
curl "https://s3.amazonaws.com/aws-cli/awscli-bundle.zip" -o "awscli-bundle.zip"
```
### ğŸ“¦ 2. Unzip the downloaded bundle

``` bash
unzip awscli-bundle.zip
```

### ğŸ› ï¸ 3. Run the installer with elevated permissions


``` bash
sudo ./awscli-bundle/install -i /usr/local/aws -b /usr/local/bin/aws
```
This installs the AWS CLI to **/usr/local/aws** and creates a symlink at **/usr/local/bin/aws** for easy access.

# ğŸ”§ AWS CLI Configuration Profiles
When configuring the AWS CLI, two files are created in the user's home directory:

* ~/.aws/config

* ~/.aws/credentials

These files store region settings, output format, and access credentials.

ğŸ“ ~/.aws/config

```
[default]
region = us-east-1
output = json
```
 ğŸ” ~/.aws/credentials

 ```
 [default]
aws_access_key_id = testkey
aws_secret_access_key = secretkey

 ```
ğŸ’¡ Note: Replace **testkey** and **secretkey** with your actual AWS credentials. Never share your real keys publicly.

## ğŸ§­ AWS CLI â€“ Configuration Profiles
Named profiles in AWS CLI allow you to manage multiple AWS accounts or environments with ease.

### ğŸ› ï¸ Create a Named Profile
``` bash
aws configure --profile <profile_name>
``` 

### 
ğŸš€ Use a Named Profile
``` bash
aws <command> <sub-command> --profile <profile_name>
``` 

ğŸ“ Example ~/.aws/config File

``` ini
[default]
region = us-west-2
output = json

[profile user1]
region = us-east-1
output = text
``` 

âœ… Tip: Use descriptive profile names like **dev**, **prod**, or **user1** to keep your environments organized.

# ğŸ§ Installing AWS CLI on Linux (via pip)
Use pip3 to install or upgrade the AWS CLI:

``` bash
pip3 install awscli --upgrade --user
``` 

###ğŸ“ Installation Path
The AWS CLI will be installed in:

``` bash
$HOME/.local/bin
``` 
You may need to update your **PATH** environment variable:

``` bash
export PATH=$HOME/.local/bin:$PATH
``` 

âš ï¸ Note
Amazon Linux includes the AWS CLI by default â€” no installation needed.


# ğŸ Installing AWS CLI on macOS (GUI Installer)
### ğŸ“ Steps
1. **Download the installer**       
[AWS CLI v2 .pkg file](https://awscli.amazonaws.com/AWSCLIV2.pkg)     

2. **Run the downloaded file**    
Double-click the .pkg file to launch the installer.   


3. **Follow the on-screen instructions** 
Proceed through the installation prompts.      

4. **Verify installation in Terminal**
Open Terminal and run:

``` bash
aws --version
```

âœ… Tip: If the command isnâ€™t recognized, ensure /usr/local/bin is in your PATH.


























 ## [Context](./../context.md)

