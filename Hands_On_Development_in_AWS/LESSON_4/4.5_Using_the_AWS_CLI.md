# 4.5 Using the AWS CLI 
 
# ⚙️ AWS CLI Installation & Configuration Summary

**Goal:** 

Install and configure the AWS Command Line Interface (CLI) across different platforms, using programmatic credentials.

# 🧭 Access Prerequisite: Programmatic User

* Requires **Access Key ID** and **Secret Access Key**

* Created via IAM → Users → Security Credentials → Create Access Key ➡️ Will be covered in depth in the IAM section

# 💻 Installation Methods by Platform

| Platform            | Method                                | Notes                                           |
|---------------------|----------------------------------------|-------------------------------------------------|
| Linux               | `pip install awscli` or `pip3 install awscli` | May need to update `$PATH` to include `.local/bin` |
| Amazon Linux (EC2)  | Pre-installed                          | Only configuration needed                       |
| Windows             | MSI Installer                          | Adds CLI to system path for use in Command Prompt |
| Mac                 | GUI Installer or `pip install awscli`  | Executed via Terminal                           |


# 🛠️ Configuration Steps
Run the command:

``` bash
aws configure
```

Provide:

1. **Access Key ID**

2. **Secret Access Key**

3. **Default Region** (e.g., us-east-2)

4. **Default Output Format** (json, text, or table)

Creates:

~/.aws/credentials

~/.aws/config      

 ➡️ INI-style files storing your configuration


👥 Multiple Accounts or Users
Use **named profiles:**

``` bash
aws configure --profile devuser

```
Switch between profiles using:

``` bash
aws ec2 describe-instances --profile devuser
```

# 🧪 CLI Validation & Usage

* Run: **aws ec2 describe-instances** to test setup

* Use contextual help:

``` bash
aws help
aws ec2 help
aws ec2 describe-instances help
```
# 🖥️ CLI on EC2 Instance

* Installed via **pip3 install awscli**

* Same configuration process as Windows/Mac

* Update **$PATH** if needed to access **aws** command

# 🔁 Cross-Platform Consistency

* CLI behaves identically across Windows, Linux, and Mac
  
* Python-based → consistent experience

## ⚙️ AWS CLI Configuration Guide

To configure the AWS Command Line Interface (CLI), run the following command in your terminal:

```bash
$ aws configure
AWS Access Key ID [None]: AKIA...IWHF
AWS Secret Access Key [None]: wJa.........rXU
Default region name [None]: us-west-2
Default output format [None]: json
```
Where do we get the **Assess Key** and **Sercret Access Key** ?

    - IAM

## 🐧 Installing AWS CLI on Linux

To install the AWS Command Line Interface (CLI) using the bundled installer, follow these steps in your terminal:

### 📥 1. Download the installer bundle
```bash
curl "https://s3.amazonaws.com/aws-cli/awscli-bundle.zip" -o "awscli-bundle.zip"
```
### 📦 2. Unzip the downloaded bundle

``` bash
unzip awscli-bundle.zip
```

### 🛠️ 3. Run the installer with elevated permissions


``` bash
sudo ./awscli-bundle/install -i /usr/local/aws -b /usr/local/bin/aws
```
This installs the AWS CLI to **/usr/local/aws** and creates a symlink at **/usr/local/bin/aws** for easy access.

# 🔧 AWS CLI Configuration Profiles
When configuring the AWS CLI, two files are created in the user's home directory:

* ~/.aws/config

* ~/.aws/credentials

These files store region settings, output format, and access credentials.

📁 ~/.aws/config

```
[default]
region = us-east-1
output = json
```
 🔐 ~/.aws/credentials

 ```
 [default]
aws_access_key_id = testkey
aws_secret_access_key = secretkey

 ```
💡 Note: Replace **testkey** and **secretkey** with your actual AWS credentials. Never share your real keys publicly.

## 🧭 AWS CLI – Configuration Profiles
Named profiles in AWS CLI allow you to manage multiple AWS accounts or environments with ease.

### 🛠️ Create a Named Profile
``` bash
aws configure --profile <profile_name>
``` 

### 
🚀 Use a Named Profile
``` bash
aws <command> <sub-command> --profile <profile_name>
``` 

📁 Example ~/.aws/config File

``` ini
[default]
region = us-west-2
output = json

[profile user1]
region = us-east-1
output = text
``` 

✅ Tip: Use descriptive profile names like **dev**, **prod**, or **user1** to keep your environments organized.

# 🐧 Installing AWS CLI on Linux (via pip)
Use pip3 to install or upgrade the AWS CLI:

``` bash
pip3 install awscli --upgrade --user
``` 

###📍 Installation Path
The AWS CLI will be installed in:

``` bash
$HOME/.local/bin
``` 
You may need to update your **PATH** environment variable:

``` bash
export PATH=$HOME/.local/bin:$PATH
``` 

⚠️ Note
Amazon Linux includes the AWS CLI by default — no installation needed.


# 🍎 Installing AWS CLI on macOS (GUI Installer)
### 📝 Steps
1. **Download the installer**       
[AWS CLI v2 .pkg file](https://awscli.amazonaws.com/AWSCLIV2.pkg)     

2. **Run the downloaded file**    
Double-click the .pkg file to launch the installer.   


3. **Follow the on-screen instructions** 
Proceed through the installation prompts.      

4. **Verify installation in Terminal**
Open Terminal and run:

``` bash
aws --version
```

✅ Tip: If the command isn’t recognized, ensure /usr/local/bin is in your PATH.


























 ## [Context](./../context.md)

