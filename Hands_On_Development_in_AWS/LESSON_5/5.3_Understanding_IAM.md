# 5.3 Understanding IAM 

# üîê IAM: Identity and Access Management Overview

**Purpose:**
IAM is the backbone of AWS security, handling authentication, authorization, and access control across all services.

* Identtiy - Who are you?
* Access - What can you do ?
* Management - Administraction of .....      

 | Component         | Description                                                                 |
|------------------|-----------------------------------------------------------------------------|
| Users            | Individual entities (human or code) with credentials                        |
| Groups           | Collections of users sharing permissions                                     |
| Roles            | Temporary credentials for trusted entities or services                      |
| Policies         | JSON documents defining permissions (effect, action, resource)              |
| Identity Providers | External sources for federated access (e.g., Google, Active Directory)     |

NOTE: The account you initially create the AWS account with the "root" user. Account has full access and should be 
secured.

# üîë Access Types

* **Programmatic Access:** Used by code or scripts via access keys

* **Console Access:** Interactive login via username and password

# üß† Root User Best Practice

* Root user = account owner with full admin rights

* Should be used only once to create an IAM admin user

* Store credentials securely and avoid regular use

# üîí Security Features

* **Fine-grained policies** for precise control

* **Multi-Factor Authentication (MFA):** Combines something you know (password) and something you have (authenticator code)

* **PCI Compliance** for secure payment-related operations

* **Global Service:** IAM is not region-bound

# üß∞ Policy Creation Methods

* Use **AWS-managed policies** (e.g., AdministratorAccess)

* Create **custom policies** using JSON syntax Policy Wizard or Self-defined

* Policies define:

    - **Effect:** Allow or Deny

    - **Action:** What operation is being requested

    - **Resource:** What the action applies to

# üõ°Ô∏è IAM Policies: Administrator Access & Creation Methods

* **AdministratorAccess Policy** 
Grants full permissions across all AWS services and resources. Whoever is assigned this policy can do anything in the account.

* **Policy Creation Methods**

    - **Wizard-based creation:** Guided interface for building policies

    - **Manual JSON definition:** Write or paste JSON directly (prone to typos, but flexible)

    - **Copy/paste existing policies:** Clone and customize AWS-managed or custom policies

# üë• IAM Groups

* **Definition:** Named collections of users with attached policies

* **Policy Inheritance:**

    - Users inherit group policies

    - **User-specific policies override group policies** if conflicts arise

# üé≠ IAM Roles

* **Definition:** AWS identities with attached policies that can be assumed by trusted entities (not necessarily humans)

* **Use Case Example:**

    - A developer writes code on an EC2 instance that interacts with DynamoDB

    - Instead of embedding access keys in code (bad practice), a role is attached to the EC2 instance

    - The role has a policy allowing DynamoDB access

    - The EC2 instance assumes the role, enabling secure, keyless access

* **Roles**
    - AWS identities configured with permission policies

    - Can be assumed by any user, application, or service that requires access

* **Use**
    - Grant access to users, applications, or services that typically don't have permission to access your AWS resources


# üîÑ Temporary Credentials via STS

* Allows trusted users to access AWS resources using temporary security credentials

* Functions similarly to long-term credentials, with key differences:

* **Security Token Service (STS)**

    - Generates short-lived credentials when a role is assumed

    - Credentials last **minutes to hours**

    - **Refresh tokens** are used to renew credentials before expiration

    - If expired, access is denied until new credentials are requested

* **Benefits:**

    - No need to manage long-term credentials

    - Enables cross-account access and secure service-to-service communication

    - Seamless integration with AWS CLI and SDKs

### Key Features
* STS credentials are short-term

* Expiration is configurable ‚Äî typically from minutes to hours

* Once expired, access is denied

* Credentials are dynamically generated upon request

* Users or applications can request new credentials before expiration

# üåê Identity Providers (IdPs) in IAM

**Purpose:** 
Enable external user authentication by integrating third-party identity systems with AWS IAM.

# üîó Supported Identity Providers

| Type                    | Examples                                                             |
|-------------------------|----------------------------------------------------------------------|
| SAML 2.0                | Microsoft Active Directory Federation Services (ADFS), Okta          |
| OIDC (OpenID Connect)   | Google, Auth0                                                        |
| Web Identity Federation | Facebook, Google, Amazon, Apple                                     |
| AWS Cognito             | Native AWS service for user and identity management                 |

# üß© Use Case Example

* A **mobile game** stores:

    - File data in **Amazon S3**

    - Structured data in **DynamoDB**

* Users authenticate via **Web Identity Federation** (e.g., Google or Facebook)

* Temporary credentials are issued to allow secure access without embedding keys in code

# üß† Amazon Cognito Overview

Two Key Components:

| Component      | Description                                                       |
|----------------|-------------------------------------------------------------------|
| User Pools     | Directory of users with usernames, passwords, and attributes      |
| Identity Pools | Assign AWS permissions after authentication                       |

# üßë‚Äçüíª Cognito Features

* **Self-service signup** and hosted login UI

* **Customizable UI:** Modify CSS, add logos, match app branding

* **Third-party integration:** Facebook, Google, Amazon, AD via SAML

* **Developer-authenticated identities:** Custom authentication flows

![cognito_user_pool_hosted_ui.png](./IMAGES/5.3_Understanding_IAM/cognito_user_pool_hosted_ui.png)
This is what that hosted user interface looks like. Here, you can branded as Social Network. Company can create what is essentially a clone of a social networking application, post a 140-character string of text sort of thing.

# üí∏ Pricing

* **Free for first 50,000 monthly active users**

* Beyond that, usage incurs charges

* More details available at [AWS Cognito Pricing](https://aws.amazon.com/cognito/)

# üõ†Ô∏è IAM Access Methods

* **AWS Management Console**

* **Command Line Interface (CLI)**

* **Software Development Kits (SDKs)**

* **Query API** (low-level access for custom integrations)








 
 ## [Context](./../context.md)