# 21.4 Using CloudFormation best practices 
 
- **Control Access with IAM**
  - Use IAM to strictly control access to the CloudFormation service
  - Prevent unauthorized users from creating, updating, or deleting stacks
  - Deleting a stack removes all associated resources

- **Reuse Templates**
  - Use the same templates across multiple environments (e.g., dev, test, prod)
  - Deploy templates in multiple regions
  - Combine with Route 53 to route users based on location

- **Use Nested Stacks**
  - Break complex templates into reusable components
  - Share common infrastructure patterns across stacks

- **Protect Credentials**
  - Never store credentials in templates
  - Templates are plain-text files and can expose secrets if mishandled

- **Use AWS-Specific Parameter Types**
  - Leverage AWS-defined parameter types
  - These include built-in constraints and validation
  - Follow documented parameter requirements

- **Use CloudFormation::Init**
  - Run configuration tasks after EC2 instances are provisioned
  - Common uses include installing software like Apache
  - Use the latest CloudFormation helper scripts

- **Validate Templates**
  - Always validate templates before deployment
  - Validation checks syntax, not resource-specific value rules

- **Stick with CloudFormation**
  - Avoid manually modifying resources created by CloudFormation
  - Manual changes can cause state drift and stack inconsistencies

- **Use Change Sets**
  - Review proposed changes before updating stacks
  - Prevent accidental destructive updates

- **Version Control Templates**
  - Store templates in source control (e.g., Git)
  - Track changes over time
  - Deploy updates from controlled, versioned templates

- **Maintain Provisioned Instances**
  - Regularly patch EC2 instances created by CloudFormation
  - Use appropriate package managers:
    - `apt update / apt upgrade` for Ubuntu
    - `yum update` for Amazon Linux or RHEL

- **Key Takeaway**
  - CloudFormation best practices focus on security, consistency, and control
  - Proper governance and disciplined usage prevent infrastructure issues
 
 
 ## [Context](./../context.md)